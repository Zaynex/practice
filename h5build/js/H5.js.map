{"version":3,"sources":["H5.js"],"names":["jdata","H5","this","id","Math","random","replace","el","$","hide","page","append","addPage","name","text","push","isPage","undefined","addClass","whenAddPage","addComponent","cfg","extend","type","component","slice","H5ComponentBase","H5ComponentPolyline","H5ComponentPie","H5ComponentBar","H5ComponentBar_v","H5ComponentRadar","H5ComponentRing","H5ComponentPoint","loader","firstPage","fullpage","onLeave","index","nextIndex","direction","find","trigger","afterLoad","anchorLink","show","fn","moveTo","H5_loading"],"mappings":"AACA,GAAIA,UAEAC,GAAI,WAiGJ,MAhGAC,MAAKC,IAAM,MAAMC,KAAKC,UAAUC,QAAQ,IAAI,KAC5CJ,KAAKK,GAAKC,EAAE,uBAAuBN,KAAKC,GAAG,MAAMM,OACjDP,KAAKQ,QACLF,EAAE,QAAQG,OAAQT,KAAKK,IAQvBL,KAAKU,QAAU,SAAUC,EAAOC,GAC5Bd,MAAMe,MAAMC,QAAO,EAAKH,KAAKA,EAAMC,KAAKA,GACxC,IAAIJ,GAAOF,EAAE,gCAeb,OAbaS,UAATJ,GACAH,EAAKQ,SAAS,WAAWL,GAEhBI,SAATH,GACAJ,EAAKI,KAAKA,GAEdZ,KAAKK,GAAGI,OAAOD,GACfR,KAAKQ,KAAKK,KAAML,GAGgB,kBAArBR,MAAKiB,aACZjB,KAAKiB,cAEFjB,MAIXA,KAAKkB,aAAe,SAASP,EAAMQ,GAC/BrB,MAAMe,MAAMC,QAAO,EAAMH,KAAKA,EAAMQ,IAAIA,GACxC,IAAIA,GAAMA,KACVA,GAAMb,EAAEc,QACHC,KAAO,QACTF,EAEH,IAAIG,GACAd,EAAOR,KAAKQ,KAAKe,OAAM,GAAI,EAC/B,QAAQJ,EAAIE,MACR,IAAK,OACDC,EAAY,GAAIE,iBAAgBb,EAAKQ,EACrC,MAEJ,KAAK,WACDG,EAAY,GAAIG,qBAAoBd,EAAKQ,EACzC,MAEJ,KAAK,MACDG,EAAY,GAAII,gBAAef,EAAKQ,EACpC,MACJ,KAAK,MACDG,EAAY,GAAIK,gBAAehB,EAAKQ,EACpC,MACJ,KAAK,QACDG,EAAY,GAAIM,kBAAiBjB,EAAKQ,EACtC,MAEJ,KAAK,QACDG,EAAY,GAAIO,kBAAiBlB,EAAKQ,EACtC,MAEJ,KAAK,MACDG,EAAY,GAAII,gBAAef,EAAKQ,EACpC,MACJ,KAAK,OACDG,EAAY,GAAIQ,iBAAgBnB,EAAKQ,EACrC,MACL,KAAK,QACAG,EAAY,GAAIS,kBAAiBpB,EAAKQ,GAM9C,MADAX,GAAKC,OAAOa,GACLtB,MAGXA,KAAKgC,OAAS,SAAUC,GACpBjC,KAAKK,GAAG6B,UACJC,QAAQ,SAAUC,EAAOC,EAAWC,GAChChC,EAAEN,MAAMuC,KAAK,iBAAiBC,QAAQ,YAE1CC,UAAU,SAAUC,EAAYN,GAC5B9B,EAAEN,MAAMuC,KAAK,iBAAiBC,QAAQ,aAG9CxC,KAAKQ,KAAK,GAAG+B,KAAK,iBAAiBC,QAAQ,UAC3CxC,KAAKK,GAAGsC,OACLV,GACC3B,EAAEsC,GAAGV,SAASW,OAAQZ,IAG9BjC,KAAKgC,OAA8B,kBAAdc,YAA2BA,WAAa9C,KAAKgC,OAC3DhC","file":"H5.js","sourcesContent":["/* 内容管理对象 */\r\nvar jdata = [];//这里是用于获取在Index.html里填写的json数据\r\n\r\nvar H5 =function ( ) {\r\n    this.id = ('h5_'+Math.random()).replace('.','_');\r\n    this.el = $('<div class=\"h5\" id=\"'+this.id+'\">').hide();\r\n    this.page = [];\r\n    $('body').append( this.el );\r\n\r\n    /**\r\n     * 新增一个页\r\n     * @param {string} name 组建的名称，会加入到ClassName中\r\n     * @param {string} text 页内的默认文本\r\n     * @return {H5} H5对象，可以重复使用H5对象支持的方法\r\n     */\r\n    this.addPage = function( name , text ){\r\n        jdata.push({isPage:true,name:name, text:text});\r\n        var page = $('<div class=\"h5_page section\">');\r\n\r\n        if( name !== undefined ){\r\n            page.addClass('h5_page_'+name);\r\n        }\r\n        if( text !== undefined ){\r\n            page.text(text);\r\n        }\r\n        this.el.append(page);\r\n        this.page.push( page );\r\n        \r\n        //这部分是在每个页面下添加滑动提示\r\n        if( typeof this.whenAddPage === 'function' ){\r\n            this.whenAddPage();\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /* 新增一个组件 */\r\n    this.addComponent = function(name, cfg){\r\n        jdata.push({isPage:false,name:name, cfg:cfg});\r\n        var cfg = cfg || {};\r\n        cfg = $.extend({\r\n             type : 'base'\r\n         },cfg);\r\n\r\n        var component;  //  定义一个变量，存储 组件元素\r\n        var page = this.page.slice(-1)[0];\r\n        switch( cfg.type ){\r\n            case 'base' :\r\n                component = new H5ComponentBase(name,cfg);\r\n                break;\r\n\r\n            case 'polyline' :\r\n                component = new H5ComponentPolyline(name,cfg);\r\n                break;\r\n\r\n            case 'pie' :\r\n                component = new H5ComponentPie(name,cfg);\r\n                break;\r\n            case 'bar' :\r\n                component = new H5ComponentBar(name,cfg);\r\n                break;\r\n            case 'bar_v' :\r\n                component = new H5ComponentBar_v(name,cfg);\r\n                break;\r\n\r\n            case 'radar' :\r\n                component = new H5ComponentRadar(name,cfg);\r\n                break;\r\n\r\n            case 'pie' :\r\n                component = new H5ComponentPie(name,cfg);\r\n                break;\r\n            case 'ring' :\r\n                component = new H5ComponentRing(name,cfg);\r\n                break;\r\n           case 'point' :\r\n                component = new H5ComponentPoint(name,cfg);\r\n                break;\r\n            default:\r\n        }\r\n\r\n        page.append(component);\r\n        return this;\r\n    }\r\n    /* H5对象初始化呈现 */\r\n    this.loader = function( firstPage ){\r\n        this.el.fullpage({\r\n            onLeave:function( index, nextIndex, direction) {\r\n                $(this).find('.h5_component').trigger('onLeave');\r\n            },\r\n            afterLoad:function( anchorLink, index ) {\r\n                $(this).find('.h5_component').trigger('onLoad');\r\n            }\r\n        });\r\n        this.page[0].find('.h5_component').trigger('onLoad');\r\n        this.el.show();\r\n        if(firstPage){\r\n            $.fn.fullpage.moveTo( firstPage );\r\n        }\r\n    }\r\n    this.loader = typeof H5_loading == 'function' ? H5_loading : this.loader;\r\n    return this;\r\n}"]}